{{#json}}
  {{#each (getProperty @root.data.checkup (if (compare @root.data.currentSite.name 'skills') (if (compare @root.request.url.pathname '/life') 'lifeskills' else='workskills') else=@root.data.currentSite.name)) ~}}
  {{#each questions ~}}
  {{#compare type "===" "select-grid"}}
  {{{safeStringify (concat 'answers-' (slugify ../name) '-' value)}}}: "
    {{#each options}}
    {{~#each ../answer-options ~}}{{#compare (getProperty @root.request.body (slugify (concat 'answers-'  ../../../name '-' ../../value '-' ../answer))) answer ~}}{{score}};{{/compare}}{{/each}}{{/each}}",
  {{else}}
  {{{safeStringify (concat 'answers-' (slugify ../name) '-' value)}}}: "
  {{~#each options ~}}{{~#each (split (getProperty @root.request.body (concat 'answers-' (slugify ../../name) '-' ../value)) ';') ~}}{{~#compare ../answer this~}}{{../score}};{{~/compare~}}{{~/each ~}}{{~/each ~}}
  {{#if supplements}}{{#each (lookup supplementary-options (lookup @root.request.body (concat 'answers-' @../key '-' value)))}}{{#each (arrayify (split (lookup @root.request.body (concat 'answers-' (slugify ../../name) '-' ../value '-supplement')) ';'))}}{{~#compare ../answer this~}}{{../score}};{{/compare}}{{/each}}{{/each}}{{/if}}",
  {{/compare}}
  {{/each ~}}
  {{/each ~}}
  "end": true
{{/json}}
